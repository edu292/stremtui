/* --- Globa Theme Variables --- */
$bg-base: #121212;
$bg-surface: #1e1e1e;
$border-dim: #444444;
$accent: #00ff99;      /* Phosphor Green */
$accent-dim: #005f3f;
$focus: #00d7ff;       /* Cyber Blue */
$text-main: #e0e0e0;
$text-muted: #808080;

Screen {
    background: $bg-base;
    color: $text-main;
}

/* --- Main Screen Layout --- */
#Search {
    width: 60%;
    margin: 1;
    border: tall $border-dim;
    background: $bg-surface;
}

#Search:focus {
    border: tall $focus;
    background: $bg-base;
}

PosterList {
    height: auto;
    margin-bottom: 2;
    padding: 0 1;
    scrollbar-size: 0 0; /* Hide scrollbar for cleaner look */
}

/* --- Poster Card Styling --- */
Poster {
    width: 24;
    height: 16;
    margin: 0 1;
    border: heavy $bg-surface; /* Invisible border that lights up */
    background: $bg-surface;
    padding: 0;
}

Poster:focus {
    border: heavy $focus;
}

Poster > Image {
    height: 1fr;
    width: 1fr;
}

Poster > Label {
    width: 100%;
    background: $accent-dim;
    color: $text-main;
    text-align: center;
    text-style: bold;
    dock: bottom;
}

Poster:focus > Label {
    background: $focus;
    color: black;
}

/* --- Details Screen Layout --- */
#content {
    height: 100%;
}

/* Left Side: Metadata & Info */
EntryDetails {
    width: 35%;
    height: 100%;
    border-right: solid $border-dim;
    background: $bg-surface;
    padding: 2 2;
    scrollbar-gutter: stable;
}

#logo {
    width: 100%;
    height: auto;
    margin-bottom: 3;
}

.stats {
    height: auto;
    margin-bottom: 1;
}

.stats > Label {
    background: $border-dim;
    color: $accent;
    padding: 0 1;
    margin-right: 1;
    text-style: bold;
}

/* Right Side: Selection Manager */
SelectionManager {
    width: 65%;
    height: 100%;
}

/* --- Stream & Episode Selectors --- */
EpisodeSelector, StreamSelector {
    padding: 1 2;
}

/* Controls Header */
#controls {
    height: 3;
    dock: top;
    margin-bottom: 1;
    align-horizontal: center;
}

#seasons-select {
    width: 30;
}

#summary {
    color: $text-muted;
    margin-top: 1;
    border-top: dashed $border-dim;
    padding-top: 1;
    
    /* MANDATORY for multiline text in scroll views: */
    height: auto;       
    width: 100%;
    text-wrap: wrap;
}

/* --- Fix 2: Episode Card Compactness --- */
EpisodeCard {
    /* Let the card shrink to fit the content exactly */
    height: 10;
    
    /* Add a tiny margin for separation, but keep it tight */
    margin-bottom: 1;
    background: $bg-base;
    border-left: solid $border-dim;
    padding: 0;
}

/* --- Fix 3: Image Dimensions --- */
EpisodeCard UrlImage {
    width: 32;
    height: 9; 
    margin: 1 3 1 1;
    
    dock: left;
}

/* Tweak the text next to the image to sit nicer */
.episode-details {
    padding-top: 0; /* Remove top padding to align with image top */
    height: auto;
}

EpisodeCard:focus {
    background: $bg-surface;
    border-left: heavy $focus; /* "Glow" bar on the left */
}

.episode-details {
    padding-top: 1;
}

.episode-name {
    text-style: bold;
    color: $text-main;
}

EpisodeCard:focus .episode-name {
    color: $focus;
}

.episode-release {
    color: $text-muted;
}

/* --- Stream Buttons --- */
StreamSelector Button {
    width: 100%;
    margin-bottom: 1;
    background: $bg-surface;
    border: none;
    content-align: left middle; /* Textual specific alignment */
    padding: 1 0 1 2;
    text-align: left;
}

StreamSelector Button:focus {
    background: $accent-dim;
    color: white;
    border-left: heavy $accent;
}
